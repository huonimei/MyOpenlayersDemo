<!DOCTYPE html>
<html>

<head>
    <meta http-equiv=Content-Type content="text/html;charset=utf-8">
    <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
    <meta content=always name=referrer>
    <title>OpenLayers svg图标实例</title>
    <link rel="stylesheet" href="./js/ol.css" type="text/css">
    <script src="./js/ol.js"></script>
    <script src="./js/jquery-1.11.3.min.js"></script>
    <script src="./js/svgcontent.js"></script>
</head>

<body>
<div id="map" style="width: 100%"></div>

<script type="text/javascript">
    var layer = new ol.layer.Vector({
        source: new ol.source.Vector()
    });
    var map = new ol.Map({
        layers: [layer],
        target: 'map',
        view: new ol.View({
            projection: 'EPSG:4326',
            center: [104, 30],
            zoom: 10
        })
    });

    var anchor = new ol.Feature({
        geometry: new ol.geom.Point([104, 30])
    });

    //    var svg = '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ' +
    //        'x="0px" y="0px" width="130px" height="130px" viewBox="0 0 130 130" enable-background="new 0 0 130 130" xml:space="preserve">' +
    //        '<line stroke="#231815" stroke-width="1.5"  fill="#EFEFEF" x1="49.4" y1="27.4" x2="49.4" y2="72.9"/>' +
    //        '<line stroke="#231815" stroke-width="1.5"  fill="#EFEFEF" x1="45.2" y1="37" x2="53.6" y2="36.7"/>' +
    //        '<line stroke="#231815" stroke-width="1.5"  fill="#EFEFEF" x1="39.4" y1="72.9" x2="59.4" y2="72.9"/>' +
    //        '<line stroke="#231815" stroke-width="1.5"  fill="#EFEFEF" x1="41.3" y1="77.5" x2="56.3" y2="77.5"/>' +
    //        '<line stroke="#231815" stroke-width="1.5"  fill="#EFEFEF" x1="44.8" y1="81.6" x2="53.2" y2="81.3"/>' +
    //        '</svg>';

    var svg = Breaker;


    var mysvg = new Image();
    mysvg.src = 'data:image/svg+xml,' + escape(svg);

    anchor.setStyle(new ol.style.Style({
        image: new ol.style.Icon({
            img: mysvg,    // 设置Image对象
            imgSize: [130, 130]    // 及图标大小
        })
    }));
    layer.getSource().addFeature(anchor);
</script>
</body>
</html>